# Purpose: accuracyâ€‘first production, with higher QPS and optional stronger local transformer for ensembling.
# Keep cost controls in place but secondary.

# ========= Embeddings (Primary: Gemini, accuracy-first) =========
# Provide a production API key; disable DRYRUN.
GEMINI_API_KEY=<YOUR_PROD_API_KEY>
GEMINI_EMB_MODEL=models/text-embedding-004
GEMINI_EMB_DIM=768
GEMINI_TASK_TYPE=classification
GEMINI_EMB_RATE_LIMIT=8         # tune to provider quota & budget guardrails
GEMINI_EMB_MAX_CALLS=0          # 0 disables cap (use with care, monitor spend)
GEMINI_EMB_DRYRUN=0

# ========= Optional Local Transformer (ensemble/offline) =========
# Choose a stronger model if resources permit; align DIM accordingly.
# Examples:
#  - intfloat/e5-large-v2 (DIM=1024)
#  - BAAI/bge-large-en-v1.5 (DIM=1024)
SENTENCE_TFM_MODEL=intfloat/e5-large-v2
SENTENCE_TFM_DIM=1024
SENTENCE_TFM_DRYRUN=0

# ========= Crawl =========
HTTP_USER_AGENT=Mozilla/5.0 (compatible; IABVerticalizerBot/1.0; +https://internal.example)
HTTP_TIMEOUT=20

# ========= Database (Postgres) =========
DB_DSN=postgresql+psycopg2://user:pass@db:5432/verticalizer

# ========= S3 / MinIO (optional) =========
S3_ENDPOINT=https://s3.your-cloud.example
S3_BUCKET=verticalizer-prod
S3_ACCESS_KEY=<YOUR_S3_ACCESS_KEY>
S3_SECRET_KEY=<YOUR_S3_SECRET_KEY>
S3_REGION=us-east-1

# ========= Logging & Misc =========
LOG_LEVEL=INFO
PYTHONUNBUFFERED=1
EMB_CACHE_DIR=.embcache